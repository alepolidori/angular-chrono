!function(a,b){function c(a,b){function c(c,d,e){function f(a){c.seconds=Math.floor(a/1e3%60),c.totalSeconds=Math.floor(a/1e3),c.minutes=Math.floor(a/6e4%60),c.totalMinutes=Math.floor(a/6e4),c.hours=Math.floor(a/36e4%24),c.totalHours=Math.floor(a/36e4),c.totalDays=Math.floor(a/36e4/24)}var g=e.timerName;return e.startTime=e.startTime?new Date(e.startTime).getTime():Date.now(),g?(b.subscribe(g,function(a,b){return a?console.error(a):(c.milliseconds=b.current-+e.startTime,f(c.milliseconds),c.$digest(),void 0)}),void 0):(a.error("timer-name must be specified"),void 0)}var d=["$scope","$element","$attrs",c];return{restrict:"EA",replace:!1,scope:"isolate",controller:d}}function d(a){return 0===a||a?(a=a.toString(),new Array(2-a.length+1).join("0")+a):void 0}function e(){return d}function f(a,b,c){this.timerId=null,this.name=a,this.opts=b||{interval:1e3},this.chrono=c,this.current=this.started=Date.now()}function g(){this.timers={},this.listeners={}}b.module("angular-chrono",[]),b.module("angular-chrono").directive("chronoTimer",c),b.module("angular-chrono").filter("zeropad",e),f.prototype.start=function(){var a=this,b=(Date.now()-this.started)%1e3;return this.timerId=setTimeout(function(){a.chrono.onTick(a.name,a),a.start()},this.opts.interval-b),this},f.prototype.stop=function(){return clearTimeout(this.timerId),this.timerId=null,this},g.prototype.addTimer=function(a,b){return this.timers[a]=new f(a,b,this),this},g.prototype.removeTimer=function(a){return this.timers[a]?(this.timers[a].stop(),delete this.timers[a],this):this},g.prototype.onTick=function(a,c){c.current=Date.now(),b.forEach(this.listeners[a],function(a){a(null,c)})},g.prototype.subscribe=function(a,b){return"function"!=typeof b&&(b=function(){}),this.timers[a]?(this.listeners[a]=this.listeners[a]||[],this.listeners[a].push(b),this):(b(new Error("Timer "+a+" not found")),this)},g.prototype.unsubscribe=function(a,c){if(!this.listeners[a])return this;var d=-1;return b.forEach(this.listeners[a],function(a,b){a===c&&(d=b)}),-1!==d&&this.listeners[a].splice(d,1),this},g.prototype.start=function(){return b.forEach(this.timers,function(a){a.start()}),this},g.prototype.stop=function(){return b.forEach(this.timers,function(a){a.stop()}),this},b.module("angular-chrono").service("chronoService",[g])}(window,angular);