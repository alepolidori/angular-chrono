!function(a,b){function c(a,b){function c(c,d,e){function f(a){c.seconds=Math.floor(a/1e3%60),c.totalSeconds=Math.floor(a/1e3),c.minutes=Math.floor(a/6e4%60),c.totalMinutes=Math.floor(a/6e4),c.hours=Math.floor(a/36e4%24),c.totalHours=Math.floor(a/36e4),c.days=Math.floor(a/36e4/24)}var g=e.timerName;return e.startTime||(e.startTime=Date.now()),g?(b.subscribe(g,function(a,b){return a?console.error(a):(c.milliseconds=b.current-+e.startTime,f(c.milliseconds),c.$digest(),void 0)}),void 0):(a.error("timer-name must be specified"),void 0)}var d=["$scope","$element","$attrs",c];return{restrict:"EA",replace:!1,scope:"isolate",controller:d}}function d(a,b,c){this.timerId=null,this.name=a,this.opts=b||{interval:1e3},this.chrono=c,this.current=this.started=Date.now()}function e(){this.timers={},this.listeners={}}b.module("angular-chrono",[]),b.module("angular-chrono").directive("chronoTimer",c),d.prototype.start=function(){var a=this,b=(Date.now()-this.started)%1e3;return this.timerId=setTimeout(function(){a.chrono.onTick(a.name,a),a.start()},this.opts.interval-b),this},d.prototype.stop=function(){return clearTimeout(this.timerId),this.timerId=null,this},e.prototype.addTimer=function(a,b){return this.timers[a]=new d(a,b,this),this},e.prototype.removeTimer=function(a){return this.timers[a]?(this.timers[a].stop(),delete this.timers[a],this):this},e.prototype.onTick=function(a,c){c.current=Date.now(),b.forEach(this.listeners[a],function(a){a(null,c)})},e.prototype.subscribe=function(a,b){return"function"!=typeof b&&(b=function(){}),this.timers[a]?(this.listeners[a]=this.listeners[a]||[],this.listeners[a].push(b),this):(b(new Error("Timer "+a+" not found")),this)},e.prototype.unsubscribe=function(a,c){if(!this.listeners[a])return this;var d=-1;return b.forEach(this.listeners[a],function(a,b){a===c&&(d=b)}),-1!==d&&this.listeners[a].splice(d,1),this},e.prototype.start=function(){return b.forEach(this.timers,function(a){a.start()}),this},e.prototype.stop=function(){return b.forEach(this.timers,function(a){a.stop()}),this},b.module("angular-chrono").service("chronoService",[e])}(window,angular);